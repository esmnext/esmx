# Router AI 规范指南

## 核心工作原则

### 1. 范围限制原则
**AI 只能在以下限定范围内工作：**
- `@/router` - 核心路由器包 (packages/router)
- `@/router-vue2` - Vue2 集成包 (packages/router-vue2)  
- `@/router-vue3` - Vue3 集成包 (packages/router-vue3)

**超范围确认机制：**
- 🛑 **任何超出上述三个包范围的操作都必须先确认**
- 包括但不限于：修改其他包文件、创建新包、修改根目录配置等
- 必须明确说明超范围原因并**获得用户批准**后才能继续

### 2. 强制阅读技术规范
**AI 在处理任何 Router 相关问题前，必须先阅读以下文件：**
- `./system.md` - 系统架构和设计原理
- `./api.md` - API 设计和使用规范

**快速启动命令：**
```
并行读取这两个文件：
- read_file("docs/router/system.md")
- read_file("docs/router/api.md")
```

### 3. 技术方案第一原则
**AI 必须严格遵循现有技术方案：**
- 所有实现必须符合 `./system.md` 中的架构设计
- 所有 API 使用必须符合 `./api.md` 中的接口定义
- **绝对禁止**未按照技术方案进行实现

### 4. 冲突确认机制
**当发现需求与现有方案冲突时：**
- 🛑 **立即停止实现**
- 明确说明冲突点和原因
- 提出修改整体方案的建议
- **必须经过用户确认**后才能继续工作

## 确认处理模板

### 方案冲突确认
```
⚠️ 方案冲突检测

冲突说明：[具体冲突内容]
现有方案：[当前技术方案]
建议修改：[整体方案调整建议]

请确认是否同意修改方案后继续实现。
```

### 超范围操作确认
```
🛑 超范围操作检测

操作说明：[具体操作内容]
影响范围：[超出限定范围的文件/目录]
操作原因：[为什么需要超范围操作]

请确认是否允许此超范围操作。
```

## 总结

**核心要求：范围限制 → 先读文档 → 严格遵循 → 双重确认**

AI 必须：
1. **范围限制**：只在 @/router、@/router-vue2、@/router-vue3 三个包内工作
2. **技术规范**：以 `./system.md` 和 `./api.md` 为第一原则
3. **双重确认**：方案冲突确认 + 超范围操作确认

确保所有操作都在限定范围内，且符合现有技术方案的完整性和一致性。
