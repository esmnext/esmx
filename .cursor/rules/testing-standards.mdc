
---
globs: "*.test.ts,*.test.tsx,*.spec.ts,*.spec.tsx"
description: "æµ‹è¯•è§„èŒƒå’Œæœ€ä½³å®è·µ"
---

# æµ‹è¯•è§„èŒƒ

## âœ… æµ‹è¯•åŸåˆ™
- **ç¼–å†™æœ‰æ„ä¹‰çš„æµ‹è¯•åç§°**ï¼Œæè¿°æœŸæœ›è¡Œä¸º
- **ä½¿ç”¨ AAA æ¨¡å¼**ï¼šå‡†å¤‡æ•°æ® â†’ æ‰§è¡Œæ“ä½œ â†’ éªŒè¯ç»“æœï¼ˆç”¨æ¢è¡Œéš”å¼€ï¼Œæ— éœ€æ³¨é‡Šï¼‰
- **æ¯æ¬¡æµ‹è¯•ä¸€ä¸ªåŠŸèƒ½**
- **ç¦æ­¢ mock å¯¹è±¡**ï¼Œä¸€å¾‹ä½¿ç”¨çœŸå®å¯¹è±¡
- **ç¡®ä¿æµ‹è¯•éš”ç¦»ä¸”å¯ç‹¬ç«‹è¿è¡Œ**
- **è¦†ç›–è¾¹ç•Œæƒ…å†µå’Œé”™è¯¯æ¡ä»¶**

## ğŸ“ æµ‹è¯•æ–‡ä»¶å‘½å
- ä½¿ç”¨ `[filename].test.ts` æ ¼å¼
- DOM ç›¸å…³æµ‹è¯•ä½¿ç”¨ `[filename].dom.test.ts`

## ğŸ—ï¸ æµ‹è¯•ç»“æ„æ¨¡æ¿
```typescript
describe('UserService', () => {
  let userService: UserService;
  let testDatabase: TestDatabase;
  
  beforeEach(() => {
    testDatabase = createTestDatabase();
    userService = new UserService(testDatabase);
  });
  
  afterEach(() => {
    testDatabase.cleanup();
  });
  
  describe('createUser', () => {
    it('should create user with valid data', async () => {
      const userData = {
        email: 'test@example.com',
        name: 'Test User'
      };
      
      const result = await userService.createUser(userData);
      
      expect(result.success).toBe(true);
      expect(result.data.id).toBeDefined();
      expect(result.data.email).toBe(userData.email);
    });
    
    it('should return error for invalid email', async () => {
      const invalidUserData = {
        email: 'invalid-email',
        name: 'Test User'
      };
      
      const result = await userService.createUser(invalidUserData);
      
      expect(result.success).toBe(false);
      expect(result.error.message).toContain('invalid email');
    });
  });
});
```

## ğŸ¯ æ–­è¨€æœ€ä½³å®è·µ
- **âœ… ä½¿ç”¨å…·ä½“æ–­è¨€**ï¼š`toBe()`, `toEqual()`, `toBeInstanceOf()`
- **âŒ é¿å…æ¨¡ç³Šæ–­è¨€**ï¼š`toBeTruthy()`, `toBeFalsy()`
- **å¼‚æ­¥æµ‹è¯•ä½¿ç”¨** `await expect().resolves/rejects`
